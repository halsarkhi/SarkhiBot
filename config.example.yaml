# KernelBot Configuration
# Copy to config.yaml and adjust as needed.

bot:
  name: KernelBot
  description: AI engineering agent with full OS control

orchestrator:
  provider: anthropic    # anthropic | openai | google | groq — switchable via /orchestrator
  # model: claude-opus-4-6

brain:
  provider: anthropic    # anthropic | openai | google | groq — switchable via /brain
  model: claude-sonnet-4-20250514
  max_tokens: 8192
  temperature: 0.3
  max_tool_depth: 25

claude_code:
  # model: claude-opus-4-6           # switchable via /claudemodel
  max_turns: 50
  timeout_seconds: 600
  # auth_mode: system                # system | api_key | oauth_token — switchable via /claude
  # workspace_dir: /tmp/kernelbot-workspaces  # default: ~/.kernelbot/workspaces

github:
  default_branch: main
  # default_org: my-org

jira:
  # base_url: https://yourcompany.atlassian.net  # or self-hosted JIRA server URL
  # email: you@company.com                       # JIRA account email (Cloud) or username (Server)
  # api_token: your-api-token                    # API token from https://id.atlassian.net/manage-profile/security/api-tokens

telegram:
  # List Telegram user IDs allowed to interact. Empty = allow all (dev mode).
  allowed_users: []

security:
  blocked_paths:
    - /etc/shadow
    - /etc/passwd
    - ~/.ssh/id_rsa
    - ~/.ssh/id_ed25519

logging:
  level: info
  max_file_size: 5242880  # 5 MB

conversation:
  max_history: 50

# Voice — ElevenLabs TTS & STT
# Requires ELEVENLABS_API_KEY in .env
voice:
  tts_enabled: true       # Send voice replies alongside text (default: true if API key present)
  stt_enabled: true        # Transcribe user voice messages (default: true if API key present)
  # voice_id: JBFqnCBsd6RMkjVDRZzb  # ElevenLabs voice ID (override ELEVENLABS_VOICE_ID env var)

# Inner Life — autonomous thinking, journaling, browsing, creating
# Data stored at ~/.kernelbot/life/
life:
  enabled: true                  # Enable autonomous inner life
  min_interval_minutes: 30       # Minimum time between activities
  max_interval_minutes: 120      # Maximum time between activities
  activity_weights:              # Relative probability weights
    think: 30                    # Inner monologue, self-questioning
    browse: 25                   # Explore interests via web search
    journal: 20                  # Write daily journal entries
    create: 15                   # Creative expression (poems, stories, thoughts)
    self_code: 10                # Self-improvement proposals (requires self_coding.enabled)
  proactive_sharing: true        # Share discoveries with users proactively
  proactive_max_per_day: 3       # Max proactive messages per day
  memory_retention_days: 90      # Days to keep episodic memories
  self_coding:
    enabled: false               # Allow self-improvement code proposals (safety-gated)
    branch_prefix: "life/self-improve"  # Git branch prefix for proposals
  quiet_hours:
    start: 2                     # Hour to start quiet period (no activities)
    end: 6                       # Hour to end quiet period
